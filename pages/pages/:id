
<h1 id="custom_page_header"></h1>

<div class="google_map_div" id='canvas_1'>
     <img id="custom_page_img" src="" alt="default image">
</div>


<div class="basic_content_box" id="page_content">
    <img id="page_img" src="">
    <div class='basic_content_right'>
        <h2 id="page_title"></h2>
        <div id='page_body'></div>
    </div>
</div>


<div id="404_msg" style="display:none">
    404
</div>


<script>

$(document).ready(function() {
    function renderAll (){
        renderpageHTML()
    }
    
    function renderpageHTML(){
        var pathArray = window.location.pathname.split( '/' );
        var slug = pathArray[pathArray.length-1];
        prefix = get_prefix();
        var pages_json = prefix+"/pages/" + slug + ".json"
        
        
        if (slug == "htc-centre-information"){
            $("#custom_page_header").html("Location")
            $("#custom_page_img").attr("src", "http://assets.kodekloud.io/sites/55ddf3f86e6f640775000000/c45d1f82f06312f4794f92067bea0e8f/default_top.png");
        } else if (slug == 'htc-leasing'){
            $("#custom_page_header").html("Leasing")
            $("#custom_page_img").attr("src", "http://assets.kodekloud.io/sites/55ddf3f86e6f640775000000/c45d1f82f06312f4794f92067bea0e8f/default_top.png");
        } else if (slug == 'htc-services'){
            $("#custom_page_header").html("Guest Services")
            $("#custom_page_img").attr("src", "http://assets.kodekloud.io/sites/55ddf3f86e6f640775000000/c45d1f82f06312f4794f92067bea0e8f/default_top.png");
        } else if (slug == 'htc-gift-cards'){
            $("#custom_page_header").html("Gift Cards")
            $("#custom_page_img").attr("src", "http://assets.kodekloud.io/sites/55ddf3f86e6f640775000000/c45d1f82f06312f4794f92067bea0e8f/default_top.png");
        } else if (slug == 'htc-contact-us'){
            $("#custom_page_header").html("Contact Us")
            $("#custom_page_img").attr("src", "http://assets.kodekloud.io/sites/55ddf3f86e6f640775000000/c45d1f82f06312f4794f92067bea0e8f/default_top.png");
        } else {
            $("#custom_page_header").html("Default")
            $("#custom_page_img").attr("src", "http://assets.kodekloud.io/sites/55ddf3f86e6f640775000000/c45d1f82f06312f4794f92067bea0e8f/default_top.png");
        }


        $.getJSON(pages_json).done(function(data) {
            document.title = data.title;
            $("#page_title").html(data.title)
            $('#page_body').html(data.body);
            $("#page_img").attr("src",data.image_url)
        }).fail(function(jqXHR) {
            if (jqXHR.status == 404) {
                $("#404_msg").fadeIn("fast");
            }
        }); 
    }
    loadMallData(renderAll); 
})
    
</script>